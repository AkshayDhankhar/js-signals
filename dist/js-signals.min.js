/*
 * JS Signals <https://github.com/millermedeiros/js-signals>
 * Released under the MIT license (http://www.opensource.org/licenses/mit-license.php)
 * @author Miller Medeiros <http://millermedeiros.com>
 * @version 0.0.1
 * @build 14 11/24/2010 01:58 AM
 */
(function(){var e=window.signals={};e.Signal=function(){this._bindingList=new e.SignalBindingList()};e.Signal.prototype={_registerListener:function(t,r,q){var s=this._bindingList,p=s.indexOfListener(t),u;if(p!=-1){u=s[p]}else{u=new e.SignalBinding(t,r,q,this);s.add(u)}return u},add:function(q,p){return this._registerListener(q,false,p)},addOnce:function(q,p){return this._registerListener(q,true,p)},remove:function f(p){this._bindingList.removeByListener(p);return p},removeAll:function h(){this._bindingList.removeAll()},getNumListeners:function l(){return this._bindingList.length},dispatch:function(){var p=Array.prototype.slice.call(arguments);this._bindingList.execute(p)},toString:function c(){return"[Signal numListeners: "+this.getNumListeners()+"]"}};e.SignalBinding=function n(s,q,p,r){this.listener=s;this._isOnce=q;this._signal=r;this.listenerScope=p};e.SignalBinding.prototype={_isPaused:false,execute:function k(p){if(!this._isPaused){if(this._isOnce){this.remove()}this.listener.apply(this.listenerScope,p)}},pause:function o(){this._isPaused=true},resume:function d(){this._isPaused=false},isPaused:function g(){return this._paused},isOnce:function j(){return this._isOnce},remove:function f(){this._signal.remove(this.listener)},toString:function c(){return"[SignalBinding listener: "+this.listener+", isOnce: "+this._isOnce+", isPaused: "+this._isPaused+", listenerScope: "+this.listenerScope+"]"}};e.SignalBindingList=function a(){};e.SignalBindingList.prototype={length:0,add:function m(p){Array.prototype.push.call(this,p)},execute:function k(p){var q,r=this.length;for(q=0;q<r;q++){this[q].execute(p)}},indexOfListener:function i(p){var q=this.length;while(q--){if(this[q].listener===p){return q}}return -1},removeByListener:function b(q){var p=this.indexOfListener(q);if(p!=-1){delete this[p];this.length--}},removeAll:function h(){while(this.length--){delete this[this.length]}}}}());